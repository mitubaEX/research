<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>20180612 - My Docs</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "\u691c\u7d22\u6642\u9593\u306e\u3068\u308a\u3042\u3048\u305a\u5e73\u5747\u3092\u51fa\u3057\u3066\u898b\u308b\u3088", url: "#_top", children: [
              {title: "BM25", url: "#bm25" },
              {title: "edit", url: "#edit" },
              {title: "jw", url: "#jw" },
              {title: "jw", url: "#jw_1" },
          ]},
          {title: "\u4ef6\u6570\u3092\u4e0b\u3052\u308b\u3068\uff0c\u540c\u7b49\u306e\u901f\u5ea6\u306a\u306e\u304b\uff1f", url: "#_2", children: [
              {title: "BM25", url: "#bm25_1" },
              {title: "edit", url: "#edit_1" },
          ]},
          {title: "\u4ef6\u6570\u306f\uff1f", url: "#_3", children: [
              {title: "\u5168\u4f53\u7684\u306b\u4f55\u4ef6\u4ee5\u4e0a\u51fa\u3066\u3044\u308b\u306e\uff1f", url: "#_4" },
          ]},
          {title: "\u4e00\u4ef6\u3057\u304b\u51fa\u306a\u304b\u3063\u305f\u3084\u3064\u306f\uff0c\u691c\u7d22\u30d0\u30fc\u30b9\u30de\u30fc\u30af\u3068\u540c\u3058\u3082\u306e\u304c\u7d50\u679c\u3068\u3057\u3066\u51fa\u3066\u3044\u308b\u306e\u304b\uff1f", url: "#_5", children: [
          ]},
          {title: ":\u3058\u3083\u306a\u304f\u3066\uff0cdata:*\u306b\u3057\u3088\u3046", url: "#data", children: [
              {title: "\u691c\u7d22\u6642\u9593\u306f\uff1f", url: "#_6" },
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="work_log/20180617/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="work_log/20180617/" class="btn btn-xs btn-link">
        20180617
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="work_log/20180611/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="work_log/20180611/" class="btn btn-xs btn-link">
        20180611
      </a>
    </div>
    
  </div>

    

    <h2 id="_1">Ê§úÁ¥¢ÊôÇÈñì„ÅÆ„Å®„Çä„ÅÇ„Åà„ÅöÂπ≥Âùá„ÇíÂá∫„Åó„Å¶Ë¶ã„Çã„Çà</h2>
<h3 id="bm25">BM25</h3>
<pre><code>&gt;&gt;&gt; 330.33 / 4512
0.07321143617021277
</code></pre>

<h3 id="edit">edit</h3>
<pre><code>&gt;&gt;&gt; 7822.05/ 882
8.868537414965987
</code></pre>

<h3 id="jw">jw</h3>
<pre><code>&gt;&gt;&gt; 4115.67 / 1237
3.327138237671787
</code></pre>

<h3 id="jw_1">jw</h3>
<pre><code>&gt;&gt;&gt; 5930.88 / 235
25.237787234042553
</code></pre>

<p>„Åì„ÅÆÂïèÈ°å„Çí„Å©„ÅÜ„Å´„Åã„Åó„ÇçÔºÅ</p>
<h2 id="_2">‰ª∂Êï∞„Çí‰∏ã„Åí„Çã„Å®ÔºåÂêåÁ≠â„ÅÆÈÄüÂ∫¶„Å™„ÅÆ„ÅãÔºü</h2>
<p>10‰ª∂„ÇíÊ§úÁ¥¢„Åô„Çã„Å†„Åë„ÅÆ„Çπ„ÇØ„É™„Éó„Éà„ÇíÂãï„Åã„Åó„Å¶„Åø„Çà„ÅÜ</p>
<h3 id="bm25_1">BM25</h3>
<pre><code>cat time.csv | sed 's/elapsed_time://g' | sed 's/\[sec\]//g' | awk '{a+=$1} END {print a }'
29.8979
</code></pre>

<h3 id="edit_1">edit</h3>
<pre><code>cat time.csv | sed 's/elapsed_time://g' | sed 's/\[sec\]//g' | awk '{a+=$1} END {print a }'
7547.05


cat time.csv | sed 's/elapsed_time://g' | sed 's/\[sec\]//g' | awk '{a+=$1} END {print a }'
18.1789
</code></pre>

<h2 id="_3">‰ª∂Êï∞„ÅØÔºü</h2>
<pre><code># edit
for i in ./search_result/* ; do wc $i ;done | awk '{a+=$1} END {print a}'
10268

# BM25
 üòç ÓÇ± ÔÅ™ ÔÅô master ÓÇ∞ ÔÑï ../HD/false_negative_50_jar/false_negative ÓÇ∞ for i in ./search_result/* ; do wc $i ;done | awk '{a+=$1} END {print a}'
49599
</code></pre>

<h3 id="_4">ÂÖ®‰ΩìÁöÑ„Å´‰Ωï‰ª∂‰ª•‰∏äÂá∫„Å¶„ÅÑ„Çã„ÅÆÔºü</h3>
<pre><code>for i in ./search_result/* ; do wc $i ;done | awk '{if ($1 &gt; 2) a+=$1} END {print a}'
2012
</code></pre>

<p>2‰ª∂‰ª•‰∏ä„ÅÆ„ÇÇ„ÅÆ„Ååedit„ÅØÈùûÂ∏∏„Å´Â∞ë„Å™„ÅÑ</p>
<h2 id="_5">‰∏Ä‰ª∂„Åó„ÅãÂá∫„Å™„Åã„Å£„Åü„ÇÑ„Å§„ÅØÔºåÊ§úÁ¥¢„Éê„Éº„Çπ„Éû„Éº„ÇØ„Å®Âêå„Åò„ÇÇ„ÅÆ„ÅåÁµêÊûú„Å®„Åó„Å¶Âá∫„Å¶„ÅÑ„Çã„ÅÆ„ÅãÔºü</h2>
<pre><code>ÓÇ∞ cat onceResult.csv| while read file ; do cat $file | awk -v FS=',' '{for( i = 4; i &lt;= NF ; i++) printf(&quot;%s,&quot;, $i)} END {printf(&quot;-&quot;)}'| (IFS='-' read a b ; diff &lt;(echo $a) &lt;(echo $b | sed 's/-//g') &gt; /dev/null &amp;&amp; echo OK);done &gt; onceResultDiff.csv
0‰ª∂
-rw-r--r--      1 mituba  staff       0  6 16 03:32 onceResultDiff.csv
</code></pre>

<p>encode_data„ÅÆÈ°û‰ººÂ∫¶„Å®data„ÅÆÈ°û‰ººÂ∫¶„Åå„Ç∑„É≥„ÇØ„É≠„Åó„Å¶„ÅÑ„Å™„ÅÑË™¨Ôºé
„Éû„Ç∏Ôºü
„Éû„Ç∏„Åò„ÇÉ„Å™„Åã„Å£„Åü</p>
<pre><code># python3„Åß„ÇÑ„Çã
ÂÖ®ÈÉ®„Ç™„Éº„Ç±„Éº„Å†„Å£„Åü

‰∫å‰ª∂‰ª•‰∏ä„ÅÆ„ÇÑ„Å§„ÇÇ„Åô„Åπ„Å¶„Ç™„Éº„Ç±„Éº„Å†„Å£„Åü
</code></pre>

<p>„Å®„Çä„ÅÇ„Åà„Åö‰∏Ä„Å§„ÇíÂèñ„ÇäË∂≥„Åó„Å¶Ë¶ã„Å¶„Åø„Åæ„ÅôÔºé</p>
<pre><code>org.jvnet.hyperjaxb3.ejb.schemas.customizations.Version,jar:file:/Volumes/HD/false_negative_50_jar/birthmark_server/data/jar/hyperjaxb3-ejb-schemas-customizations-0.5.6.jar!/org/jvnet/hyperjaxb3/ejb/schemas/customizations/Version.class,kgram,25 183,183 177,177 25,25 180,180 199,199 4,4 172,172 25,180 182,182 172,25 25,25 181,181 177,25 193,193 154,154 3,3 172,25 166,166 4,183 154,25 192,192 58,58 25,180 198,198 25,25 182,182 167,167 3,3 54,54 25,25 18,18 21,21 184,184 25,184 21,21 21,21 185,185 154,172 4,172 178,178 58,25 1,1 1,1 25,183 54,185 54,54 21,21 172,182 182,182 176,176 178,176 25,25 199,199 25,167 25,25 58,183 87,87 25,193 153,153 25,25 21,184 182,1 181,181 25,25 176,176 187,89 183,183 176,182 177,183 25
org.jvnet.hyperjaxb3.ejb.schemas.customizations.ElementCollection,1.0,kgram,25 183,183 177,177 25,25 180,180 199,199 4,4 172,172 25,180 182,182 172,25 25,25 181,181 177,25 193,193 154,154 3,3 172,25 166,166 4,183 154,25 192,192 58,58 25,180 198,198 25,25 182,182 167,167 3,3 54,54 25,25 18,18 21,21 184,184 25,184 21,21 21,21 185,185 154,172 4,172 178,178 58,25 1,1 1,1 25,183 54,185 54,54 21,21 172,182 182,182 176,176 178,176 25,25 199,199 25,167 25,25 58,183 87,87 25,193 153,153 25,25 21,184 182,1 181,181 25,25 176,176 187,89 183,183 176,182 177,183 25
org.jvnet.hyperjaxb3.ejb.schemas.customizations.Embeddable,1.0,kgram,25 183,183 177,177 25,25 180,180 199,199 4,4 172,172 25,180 182,182 172,25 25,25 181,181 177,25 193,193 154,154 3,3 172,25 166,166 4,183 154,25 192,192 58,58 25,180 198,198 25,25 182,182 167,167 3,3 54,54 25,25 18,18 21,21 184,184 25,184 21,21 21,21 185,185 154,172 4,172 178,178 58,25 1,1 1,1 25,183 54,185 54,54 21,21 172,182 182,182 176,176 178,176 25,25 199,199 25,167 25,25 58,183 87,87 25,193 153,153 25,25 21,184 182,1 181,181 25,25 176,176 187,89 183,183 176,182 177,183 25
org.jvnet.hyperjaxb3.ejb.schemas.customizations.EmbeddedId,1.0,kgram,25 183,183 177,177 25,25 180,180 199,199 4,4 172,172 25,180 182,182 172,25 25,25 181,181 177,25 193,193 154,154 3,3 172,25 166,166 4,183 154,25 192,192 58,58 25,180 198,198 25,25 182,182 167,167 3,3 54,54 25,25 18,18 21,21 184,184 25,184 21,21 21,21 185,185 154,172 4,172 178,178 58,25 1,1 1,1 25,183 54,185 54,54 21,21 172,182 182,182 176,176 178,176 25,25 199,199 25,167 25,25 58,183 87,87 25,193 153,153 25,25 21,184 182,1 181,181 25,25 176,176 187,89 183,183 176,182 177,183 25
org.jvnet.hyperjaxb3.ejb.schemas.customizations.Entity,1.0,kgram,25 183,183 177,177 25,25 180,180 199,199 4,4 172,172 25,180 182,182 172,25 25,25 181,181 177,25 193,193 154,154 3,3 172,25 166,166 4,183 154,25 192,192 58,58 25,180 198,198 25,25 182,182 167,167 3,3 54,54 25,25 18,18 21,21 184,184 25,184 21,21 21,21 185,185 154,172 4,172 178,178 58,25 1,1 1,1 25,183 54,185 54,54 21,21 172,182 182,182 176,176 178,176 25,25 199,199 25,167 25,25 58,183 87,87 25,193 153,153 25,25 21,184 182,1 181,181 25,25 176,176 187,89 183,183 176,182 177,183 25
org.jvnet.hyperjaxb3.ejb.schemas.customizations.Id,1.0,kgram,25 183,183 177,177 25,25 180,180 199,199 4,4 172,172 25,180 182,182 172,25 25,25 181,181 177,25 193,193 154,154 3,3 172,25 166,166 4,183 154,25 192,192 58,58 25,180 198,198 25,25 182,182 167,167 3,3 54,54 25,25 18,18 21,21 184,184 25,184 21,21 21,21 185,185 154,172 4,172 178,178 58,25 1,1 1,1 25,183 54,185 54,54 21,21 172,182 182,182 176,176 178,176 25,25 199,199 25,167 25,25 58,183 87,87 25,193 153,153 25,25 21,184 182,1 181,181 25,25 176,176 187,89 183,183 176,182 177,183 25
org.jvnet.hyperjaxb3.ejb.schemas.customizations.ManyToMany,1.0,kgram,25 183,183 177,177 25,25 180,180 199,199 4,4 172,172 25,180 182,182 172,25 25,25 181,181 177,25 193,193 154,154 3,3 172,25 166,166 4,183 154,25 192,192 58,58 25,180 198,198 25,25 182,182 167,167 3,3 54,54 25,25 18,18 21,21 184,184 25,184 21,21 21,21 185,185 154,172 4,172 178,178 58,25 1,1 1,1 25,183 54,185 54,54 21,21 172,182 182,182 176,176 178,176 25,25 199,199 25,167 25,25 58,183 87,87 25,193 153,153 25,25 21,184 182,1 181,181 25,25 176,176 187,89 183,183 176,182 177,183 25
org.jvnet.hyperjaxb3.ejb.schemas.customizations.ManyToOne,1.0,kgram,25 183,183 177,177 25,25 180,180 199,199 4,4 172,172 25,180 182,182 172,25 25,25 181,181 177,25 193,193 154,154 3,3 172,25 166,166 4,183 154,25 192,192 58,58 25,180 198,198 25,25 182,182 167,167 3,3 54,54 25,25 18,18 21,21 184,184 25,184 21,21 21,21 185,185 154,172 4,172 178,178 58,25 1,1 1,1 25,183 54,185 54,54 21,21 172,182 182,182 176,176 178,176 25,25 199,199 25,167 25,25 58,183 87,87 25,193 153,153 25,25 21,184 182,1 181,181 25,25 176,176 187,89 183,183 176,182 177,183 25
org.jvnet.hyperjaxb3.ejb.schemas.customizations.MappedSuperclass,1.0,kgram,25 183,183 177,177 25,25 180,180 199,199 4,4 172,172 25,180 182,182 172,25 25,25 181,181 177,25 193,193 154,154 3,3 172,25 166,166 4,183 154,25 192,192 58,58 25,180 198,198 25,25 182,182 167,167 3,3 54,54 25,25 18,18 21,21 184,184 25,184 21,21 21,21 185,185 154,172 4,172 178,178 58,25 1,1 1,1 25,183 54,185 54,54 21,21 172,182 182,182 176,176 178,176 25,25 199,199 25,167 25,25 58,183 87,87 25,193 153,153 25,25 21,184 182,1 181,181 25,25 176,176 187,89 183,183 176,182 177,183 25
org.jvnet.hyperjaxb3.ejb.schemas.customizations.OneToMany,1.0,kgram,25 183,183 177,177 25,25 180,180 199,199 4,4 172,172 25,180 182,182 172,25 25,25 181,181 177,25 193,193 154,154 3,3 172,25 166,166 4,183 154,25 192,192 58,58 25,180 198,198 25,25 182,182 167,167 3,3 54,54 25,25 18,18 21,21 184,184 25,184 21,21 21,21 185,185 154,172 4,172 178,178 58,25 1,1 1,1 25,183 54,185 54,54 21,21 172,182 182,182 176,176 178,176 25,25 199,199 25,167 25,25 58,183 87,87 25,193 153,153 25,25 21,184 182,1 181,181 25,25 176,176 187,89 183,183 176,182 177,183 25
org.jvnet.hyperjaxb3.ejb.schemas.customizations.OneToOne,1.0,kgram,25 183,183 177,177 25,25 180,180 199,199 4,4 172,172 25,180 182,182 172,25 25,25 181,181 177,25 193,193 154,154 3,3 172,25 166,166 4,183 154,25 192,192 58,58 25,180 198,198 25,25 182,182 167,167 3,3 54,54 25,25 18,18 21,21 184,184 25,184 21,21 21,21 185,185 154,172 4,172 178,178 58,25 1,1 1,1 25,183 54,185 54,54 21,21 172,182 182,182 176,176 178,176 25,25 199,199 25,167 25,25 58,183 87,87 25,193 153,153 25,25 21,184 182,1 181,181 25,25 176,176 187,89 183,183 176,182 177,183 25
</code></pre>

<p>ÂÖ®„Å¶org.jvnet.hyperjaxb3.ejb.schemas.customizations„ÅÆ„Éë„ÉÉ„Ç±„Éº„Ç∏„ÅÆ„ÇØ„É©„Çπ„Åß„ÅÇ„ÇãÔºéÈ°û‰ººÂ∫¶„ÅØÂÖ®„Å¶1.0</p>
<p>Ê§úÁ¥¢„Ç®„É≥„Ç∏„É≥„Å´ÂÖ•„Å£„Å¶„ÅÑ„Å™„ÅÑ„Éê„Éº„Çπ„Éû„Éº„ÇØ„ÅßÊ§úÁ¥¢„ÇíË°å„Å£„Å¶„Åø„Åü„Åë„Å©ÔºåÊ§úÁ¥¢ÁµêÊûú„ÅØÔºê‰ª∂„Å†„Å£„ÅüÔºé</p>
<h2 id="data"><em>:</em>„Åò„ÇÉ„Å™„Åè„Å¶Ôºådata:*„Å´„Åó„Çà„ÅÜ</h2>
<h3 id="_6">Ê§úÁ¥¢ÊôÇÈñì„ÅØÔºü</h3>
<pre><code>cat xmlunit_time.csv | sed 's/elapsed_time://g' | sed 's/[sec]//g' | awk '{num+=$1} END {print num}'
56.1769
</code></pre>

<p>ÁµêÊûú„ÅØ10‰ª∂Âá∫„Å¶„ÅÑ„Çã</p>
<pre><code>for i in ./search_result/* ; do wc $i ;done | awk '{if ($1 &gt; 10) print $4}' | wc -l
      44
for i in ./search_result/* ; do wc $i ;done | awk '{if ($1 &lt; 9) print $4}' | wc -l
       0
</code></pre>

<p><em>:</em>„Çà„Çä„ÅØÊó©„ÅÑÔºå„ÉØ„É≥„ÉÅ„É£„É≥„ÅÇ„Çã</p>

  <br>
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="work_log/20180617/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="work_log/20180617/" class="btn btn-xs btn-link">
        20180617
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="work_log/20180611/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="work_log/20180611/" class="btn btn-xs btn-link">
        20180611
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>