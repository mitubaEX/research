# 検出漏れ内訳

検出漏れが3%とかだったけど，その中身どうなってんの？ということでやる

## 実験

まず検索バースマークの長さの頻度

image: ./search_birthmark_length.pdf


検出漏れに入ってきたやつの特徴を調べる．
わかっているのは入れた長さと出てきた長さ

とりあえず長さの差を求めてみる

差が負なのが結構ある．

これは調べる必要がありそう

とりあえずpochiでの類似度計算方法を調べてみたら，simpson, dice, jaccardがある．
simpsonがstigmataの類似度に近かったので，それを利用した．

しかしsimpson係数は x and y / min(len(x or y))となり短い方の長さに依存している．
だから要素数が短いやつで検索して，要素数長いやつが出てきたら大体勝てるかもしれない．

Edit distanceもあるらしい

## 結果
検出漏れに含まれなかったバースマークの組

```
25 183,183 177,177 25,25 185,185 170,170 25,25 25,25 192,192 182,182 167,167 25,167 187,187 89,89 18,18 25,183 191,191 177,177 187-------25 183,183 25,25 1,1 181,181 25,25 199,199 187,187 89,89 18,18 183,183 191,191 25,25 25,25 181,183 177,177 25,25 180,180 185,185 58,58 1,1 58,58 25,25 198,198 25,25 185,185 170,170 25,25 187,89 25,25 192,192 183,183 182,182 1,58 167,167 25,183 181,180 182,192 182,182 167,167 187,183 58,25 182,167 177,177 16,16 172,172 1,1 176,176 1,176 25,25 176,180 199,199 18,18 176,182 176,191 187
jaccard: 0.25862068965517243
simpson: 0.8333333333333334
dice:    0.410958904109589
edit:    a,b,-1.5555555555555554
```

検出漏れのバースマークの組

```
25 183,183 177,177 25,25 185,185 170,170 25,25 25,25 192,192 182,182 167,167 25,167 187,187 89,89 18,18 25,183 191,191 177,177 187-------25 187,187 89,89 183,183 183,183 177,177 25,25 25,25 182,182 183,25 183,183 25,25 3,3 181,181 25,25 18,18 181,25 181,25 193,193 153,153 25,25 192,192 181,181 177,177 2,2 54,54 2,54 25,25 180,180 198,198 25,180 180,180 54,180 25,180 100,100 54,25 21,21 21,21 182,182 177,180 182,182 153,25 1,1 21,182 58,58 25,182 167,167 25,180 21,21 185,185 167,182 25,182 185,185 177,100 182,25 89,89 180,180 4,4 96,96 181,167 4,4 54,54 4,54 18,18 58,182 54,21 25,1 182,182 176,176 25,25 199,199 25,25 184,184 167,184 176,180 199,25 4,4 4,4 182,182 154,154 187,89 1,1 183,183 191,191 177,182 96,96 172,172 25,183 181,58 187,89 25,183 58,180 178,178 166,166 25,25 185,185 87,87 177,180 58,1 181,25 176,180 153,180 172,54 3,3 54,54 21,21 4,4 159,159 21,21 17,17 160,160 21,4 160,160 132,132 4,54 167,21 183,21 181,21 153,153 18,18 167,167 3,3 128,128 181,87 25,183 54,183 21,21 172,21 159,159 3,3 172,183 4,4 172,180 18,18 126,126 153,153 4,100 183,183 172,183 153,182 3,154 25,18 182,182 172,4 167,25 198,180 165,165 25,87 167,182 181,116 182,180 185,185 4,4 100,100 185,185 192,192 58,182 198,182 182,153 187,89 18,18 183,191 25,1 25,4 181,176 58,191 58,25 191,191 3,54 187,89 21,25 90,90 181,181 181,21 54,21 157,157 167,167 21,21 16,16 160,160 25,153 5,5 167,4 183,58 167,167 58,58 21,199 3,180 1,1 3,3 184,184 191,180 184,18 25,21 1,3 185,185 191,192 183,183 184,185 58,185 153,21 100,25 16,16 183,182 17,17 162,162 25,183 176,58 4,21 171,171 167,100 181,16 18,192 182,176 1,1 176,182 100,177 1,1 58,199 187,16 25,3 182,183 182,154 18,198 187,89 16,185 185,192 25,16 178,176 21,54 1,58 1,4 16,58 18,3 25,153 167,3 183,180 16,180 167,167 2,198 5,5 54,5 159,159 25,182 158,158 25,182 187,182 21,21 2,158 18,167 18,5 160,182 199,198 184,184 87,25 167,167 187,89 54,54 158,158 21,176 187,180 181,180 193,18 18,18 21,176 167,167 167,181 1,171 25,180 183,183 16,160 167,21 3,183 187,100 21,25 6,6 183,154 4,21 18,126 171,126 154,100 25,87 3,182 4,54 16,160 187,4 164,164 25,25 166,58 3,183 192,87 1,199 1,1 167,185 154,182 193,193 154,182 192,191 187,180 17,17 159,4 21,25 17,17 21,21 126,126 21,21 160,160 4,21 7,7 160,160 18,183 171,199 5,167 7,7 128,181 187,16 184,16 128,21 154,153 21,180 192,16 182,159 187,182 87,180 154,154 167,17 25,17 182,153 177,167 1,198 21,180 166,166 21,177 21,171 21,182 16,180 187,16 21,21 163,163 21,16 163,163 25,160 16,16 54,21 170,170 25,4 25,87 187,153 1,183 185,182 2,185 18,18 164,7 54,2 18,2 25,193 54,18 3,1 2,2 183,21 167,17 183,3 2,199 21,154 21,2 160,126 54,25 5,5 183,3 21,126 159,87 132,132 167,185 21,3 96,96 182,192 21,182 18,159 4,171 2,183 1,183 2,17 161,161 25,3 16,154 177,177 3,199 2,2 172,172 21,157 3,25 190,190 161,190 4,54 132,132 21,21 155,155 25,21 52,52 54,172 167,58 17,17 188,89 17,3 17,182 171,25 14,176 4,160 17,17 167,167 16,21 135,135 182,182 132,132 3,172 4,182 142,142 135,176 24,24 184,16 3,7 126,192 4,4 185,183 18,181 176,181 172
jaccard: 0.037383177570093455
simpson: 0.8888888888888888
dice:    0.07207207207207207
edit:    a,b,-22.27777777777778
```

ぐぬぅ
